export const accountModule = {
    state() {
        return {
            accounts: {
                "status": "success",
                "data": [
                    {
                        "id": 0,
                        "name": "Аккаунты Gmail.com с резервной почтой  высокое качество  Рег IP - Mix   Способ регистрации - Ручная   Пол - Mix.",
                        "image": "https:\/\/hstock.s3.eu-central-1.amazonaws.com\/images\/products\/4625\/wbhC0eIXf48zdoNVNPTiZ7wF2jqeA8zEzqLm47JK.webp",
                        "price": 21.28,
                        "available": 128,
                        "category_name": "Google",
                        "category_id": 16,
                        "country": "Россия",
                        "freePrice": true,
                        "minPrice": 0,
                        "maxPrice": 10000,
                        "isFavourite": true,
                        "lastSettings": new Date(),
                        "offers": [
                            {"id": 0, "price": 1758, "available": 200},
                            {"id": 1, "price": 1238, "available": 20},
                            {"id": 2, "price": 1118, "available": 450},
                        ]
                    },
                    {
                        "id": 1,
                        "name": "Аккаунты Gmail.com с резервной почтой  высокое качество  Рег IP - Mix   Способ регистрации - Ручная   Пол - Mix.",
                        "image": "https:\/\/hstock.s3.eu-central-1.amazonaws.com\/images\/products\/4625\/wbhC0eIXf48zdoNVNPTiZ7wF2jqeA8zEzqLm47JK.webp",
                        "price": 21.28,
                        "available": 128,
                        "category_name": "VK",
                        "category_id": 16,
                        "country": "Англия",
                        "freePrice": true,
                        "minPrice": 0,
                        "maxPrice": 10000,
                        "isFavourite": false,
                        "lastSettings": new Date(),
                        "offers": [
                            {"id": 0, "price": 500, "available": 5},
                            {"id": 1, "price": 8000, "available": 8800},
                            {"id": 2, "price": 25, "available": 964},
                        ]
                    },
                    {
                        "id": 2,
                        "name": "Аккаунты Gmail.com с резервной почтой  высокое качество  Рег IP - Mix   Способ регистрации - Ручная   Пол - Mix.",
                        "image": "https:\/\/hstock.s3.eu-central-1.amazonaws.com\/images\/products\/4625\/wbhC0eIXf48zdoNVNPTiZ7wF2jqeA8zEzqLm47JK.webp",
                        "price": 21.28,
                        "available": 128,
                        "category_name": "Telegram",
                        "category_id": 16,
                        "country": "Россия",
                        "freePrice": true,
                        "minPrice": 0,
                        "maxPrice": 10000,
                        "isFavourite": false,
                        "lastSettings": new Date(),
                        "offers": [
                            {"id": 0, "price": 1758, "available": 200},
                            {"id": 1, "price": 1238, "available": 20},
                            {"id": 2, "price": 1118, "available": 450},
                        ]
                    },
                    {
                        "id": 3,
                        "name": "Аккаунты Gmail.com с резервной почтой  высокое качество  Рег IP - Mix   Способ регистрации - Ручная   Пол - Mix.",
                        "image": "https:\/\/hstock.s3.eu-central-1.amazonaws.com\/images\/products\/4625\/wbhC0eIXf48zdoNVNPTiZ7wF2jqeA8zEzqLm47JK.webp",
                        "price": 1800,
                        "available": 128,
                        "category_name": "Instagram",
                        "category_id": 16,
                        "country": "Россия",
                        "freePrice": false,
                        "minPrice": 0,
                        "maxPrice": 10000,
                        "isFavourite": false,
                        "lastSettings": new Date(),
                        "offers": []
                    },
                    {
                        "id": 4,
                        "name": "Аккаунты Gmail.com с резервной почтой  высокое качество  Рег IP - Mix   Способ регистрации - Ручная   Пол - Mix.",
                        "image": "https:\/\/hstock.s3.eu-central-1.amazonaws.com\/images\/products\/4625\/wbhC0eIXf48zdoNVNPTiZ7wF2jqeA8zEzqLm47JK.webp",
                        "price": 1300,
                        "available": 128,
                        "category_name": "Google",
                        "category_id": 16,
                        "country": "Россия",
                        "freePrice": false,
                        "minPrice": 0,
                        "maxPrice": 10000,
                        "isFavourite": false,
                        "lastSettings": new Date(),
                        "offers": []
                    },
                    {
                        "id": 5,
                        "name": "Аккаунты Gmail.com с резервной почтой  высокое качество  Рег IP - Mix   Способ регистрации - Ручная   Пол - Mix.",
                        "image": "https:\/\/hstock.s3.eu-central-1.amazonaws.com\/images\/products\/4625\/wbhC0eIXf48zdoNVNPTiZ7wF2jqeA8zEzqLm47JK.webp",
                        "price": 21.28,
                        "available": 128,
                        "category_name": "Google",
                        "category_id": 16,
                        "country": "Англия",
                        "freePrice": true,
                        "minPrice": 0,
                        "maxPrice": 10000,
                        "isFavourite": false,
                        "lastSettings": new Date(),
                        "offers": [
                            {"id": 0, "price": 1758, "available": 200},
                            {"id": 1, "price": 1238, "available": 20},
                            {"id": 2, "price": 1118, "available": 450},
                        ]
                    },
                    {
                        "id": 6,
                        "name": "Аккаунты Gmail.com с резервной почтой  высокое качество  Рег IP - Mix   Способ регистрации - Ручная   Пол - Mix.",
                        "image": "https:\/\/hstock.s3.eu-central-1.amazonaws.com\/images\/products\/4625\/wbhC0eIXf48zdoNVNPTiZ7wF2jqeA8zEzqLm47JK.webp",
                        "price": 50000,
                        "available": 128,
                        "category_name": "Instagram",
                        "category_id": 16,
                        "country": "Англия",
                        "freePrice": true,
                        "minPrice": 0,
                        "maxPrice": 10000,
                        "isFavourite": false,
                        "lastSettings": new Date(),
                        "offers": [
                            {"id": 0, "price": 1758, "available": 200},
                            {"id": 1, "price": 1238, "available": 20},
                            {"id": 2, "price": 1118, "available": 450},
                        ]
                    },
                    {
                        "id": 7,
                        "name": "Аккаунты Gmail.com с резервной почтой  высокое качество  Рег IP - Mix   Способ регистрации - Ручная   Пол - Mix.",
                        "image": "https:\/\/hstock.s3.eu-central-1.amazonaws.com\/images\/products\/4625\/wbhC0eIXf48zdoNVNPTiZ7wF2jqeA8zEzqLm47JK.webp",
                        "price": 35000,
                        "available": 15000,
                        "category_name": "Instagram",
                        "category_id": 16,
                        "country": "Россия",
                        "freePrice": true,
                        "minPrice": 0,
                        "maxPrice": 10000,
                        "isFavourite": false,
                        "lastSettings": new Date(),
                        "offers": [
                            {"id": 0, "price": 1758, "available": 200},
                            {"id": 1, "price": 1238, "available": 20},
                            {"id": 2, "price": 1118, "available": 450},
                        ]
                    },
                ],
                "pagination": {"current_page": 1, "last_page": 1, "per_page": 5, "total": 1}
            },
            selectedService: null,
            selectedCountry: null,
            showFP: false,
            offers: [],
            activeElement: 0,
            arrayAccountsFavourites: [],
            arrayAccountsLastSettings: [],
        }
    },

    mutations: {
        getOfferAccount(state, id = 0) {
            state.activeElement = id
            state.offers = state.accounts.data[id].offers;
        },

        getChangeFavourite(state, id = 1,) {
            state.accounts.data[id].isFavourite = !state.accounts.data[id].isFavourite;
            state.accounts.data[id].lastSettings = new Date();
        },

        setSelectedService(state, value) {
            state.selectedService = value
        },

        setSelectedCountry(state, value) {
            state.selectedCountry = value
        },

        setShowFP(state, value) {
            state.showFP = value
        },

        setOffers(state, value) {
            state.offers = value
        },

        setActiveElement(state, value) {
            state.activeElement = value
        },

        setArrayAccountsFavourites(state, array) {
            state.arrayAccountsFavourites = array
        },

        setArrayAccountsLastSettings(state, array) {
            state.arrayAccountsLastSettings = array
        },

        setAccounts(state, array) {
            state.accounts = array
        }

    },

    getters: {
        getArrayFromSelectCategory(state) {
            return [...new Set(state.accounts.data.map(category => category.category_name))];
        },

        getArrayFromSelectCountry(state) {
            return [...new Set(state.accounts.data.map(category => category.country))];
        },

        getFilteredArrayAccountsLastActivate(state) {
            return state.accounts.data.filter((account) => {
                return (
                    (state.selectedService === null || account.category_name === state.selectedService) &&
                    (state.selectedCountry === null || account.country === state.selectedCountry) &&
                    (!state.showFP || account.freePrice)
                )
            })
        },

        getFilteredArrayAccountsFavourites(state) {
            return state.arrayAccountsFavourites.filter((account) => {
                return (
                    (state.selectedService === null || account.category_name === state.selectedService) &&
                    (state.selectedCountry === null || account.country === state.selectedCountry) &&
                    (!state.showFP || account.freePrice)
                )
            })
        },

        getFilteredArrayAccountsLastSettings(state) {
            return state.arrayAccountsLastSettings.filter((account) => {
                return (
                    (state.selectedService === null || account.category_name === state.selectedService) &&
                    (state.selectedCountry === null || account.country === state.selectedCountry) &&
                    (!state.showFP || account.freePrice)
                )
            })
        },

        getFilteredArrayAccountsBay(state) {
            return state.arrayAccountsLastSettings.filter((account) => {
                return (
                    (state.selectedService === null || account.category_name === state.selectedService)
                )
            })
        },

        getArrayFavoriteAccounts(state) {
            return state.arrayAccountsFavourites = state.accounts.data.filter((account) => {
                return (account.isFavourite === true)
            })
        },

        getArrayLastSettings(state) {
            return state.arrayAccountsLastSettings = [...state.accounts.data].sort((a, b) => b.lastSettings - a.lastSettings);
        },
    },

    namespaced: true
}
